extends layout

block content

  nav(class="w-100")
    ol(class="breadcrumb align-items-center")
      li(class="breadcrumb-item active")
        a(href="/monitor/workers")
          =`Workers`
  
  table(class="table table-striped table-sm")
    tbody
      tr
        td Timestamp
        td= worker.timestamp
      tr
        td Node
        td= worker.node
      tr
        td Worker Name
        td= worker.workerName
      tr
        td Version
        td= worker.version
      tr
        td Status
        td= worker.status
      tr
        td Task Queue
        td= worker.taskQueue

  if worker.lastTask
    h5 Task Info:
    table(class="table table-striped table-sm")
      tbody
        tr
          td Owner
          td= worker.lastTask.owner
        tr
          td Repository
          td= worker.lastTask.repository
        tr
          td Task ID
          td= worker.lastTask.taskID
        tr
          td Status
          td= worker.lastTask.status

  if worker.lastTask.result
    h5 Task Result:
    table(class="table table-striped table-sm")
      tbody
        tr
          td Conclusion
          td= worker.lastTask.result.conclusion
        tr
          td Title
          td= worker.lastTask.result.title
        tr
          td Summary
          td= worker.lastTask.result.summary
        tr
          td Text
          td= worker.lastTask.result.text
